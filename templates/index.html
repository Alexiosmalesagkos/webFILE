<!DOCTYPE html>
<html><head>
    <title>webFTP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        body {font-family: Arial, sans-serif; margin: 20px;}
        .list-group-item {border: none; padding: 10px; }
        .list-group-item a {text-decoration: none; color: #007BFF; }
        .list-group-item a:hover {text-decoration: underline;}
        .dir-icon {color: #007BFF; margin-right: 10px;}
    </style>
</head><body>
    <h2>Index of {{ folder_path }}</h2><br>
    <div class="list-group">
    {% if not is_root %}
	<a href="{{ url_for('index', path=parent_directory) }}" class="list-group-item">
	<i class="fas fa-level-up-alt dir-icon"></i> Parent Directory</a>
    {% endif %}
        {% for item in folder_content %}
            {% if item['description'] == 'Directory' %}
	       <a href="{{ url_for('index', path=item['path']) }}" class="list-group-item">
               <i class="fas fa-folder dir-icon"></i> {{ item['name'] }}/ </a>
            {% elif item['description'] == 'Video' %}
		<a href="{{ url_for('video_page', video_name=item['path']) }}"  target="_blank" class="list-group-item">
    		<i class="fas fa-file-video"></i> {{ item['name'] }} </a>
	    {% elif item['description'] == 'Audio' %}
		<a href="{{ url_for('audio_page', audio_name=item['path']) }}"  target="_blank" class="list-group-item">
    		<i class="fas fa-file-audio"></i> {{ item['name'] }} </a>
	    {% elif item['description'] == 'PDF' %}
		<a href="{{ url_for('file_page', file_name=item['path']) }}"  target="_blank" class="list-group-item">
    		<i class="fas fa-file-pdf"></i> {{ item['name'] }} </a>
	    {% elif item['description'] == 'IMG' %}
		<a href="{{ url_for('file_page', file_name=item['path']) }}"  target="_blank" class="list-group-item">
    		<i class="fas fa-image"></i> {{ item['name'] }} </a>
	    {% else %}
		<a href="{{ url_for('file_page', file_name=item['path']) }}"  target="_blank" class="list-group-item">
    		<i class="fas fa-file"></i> {{ item['name'] }} </a>
            {% endif %}
            
        {% endfor %}
    </div> <script>
        // Manage link "Parent Directory"
        document.getElementById('parentDirectoryLink').addEventListener('click', function(event) {
            if ("{{ folder_path }}" === "{{ parent_directory }}") { event.preventDefault();}}); 
    </script>
</body></html>
